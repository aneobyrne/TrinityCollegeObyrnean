`timescale 1ns / 1ps

module DFF_module(
    input wire clk,                 // Clock input
    input wire reset,               // Reset input
    input wire [4:0] button_input,  // 5-bit vector for push button inputs
    output wire [3:0] anode_sel,    // 4-bit anode selection for 7-segment display
    output wire [6:0] led_out       // 7-bit LED output for 7-segment display
);

    // Wires for connecting internal signals
    wire [4:0] debounced_buttons;  // Debounced push buttons output
    wire [7:0] Q;                  // 8-bit wire vector for temperature value from DFFs

    // Instantiate the debouncer module
    debouncer db0 (
        .clk(clk), 
        .reset(reset), 
        .button_in(button_input), 
        .button_out(debounced_buttons)
    );

    // Instantiate 8 D flip-flops (DFF0 to DFF7)
    d_ff_reset DFF0 (
        .clk(clk),
        .reset(reset),
        .d(debounced_buttons[0]), // First button input
        .q(Q[0])                   // Store bit 0 of the temperature value
    );

    d_ff_reset DFF1 (
        .clk(clk),
        .reset(reset),
        .d(debounced_buttons[1]), // Second button input
        .q(Q[1])                   // Store bit 1 of the temperature value
    );

    d_ff_reset DFF2 (
        .clk(clk),
        .reset(reset),
        .d(debounced_buttons[2]), // Third button input
        .q(Q[2])                   // Store bit 2 of the temperature value
    );

    d_ff_reset DFF3 (
        .clk(clk),
        .reset(reset),
        .d(debounced_buttons[3]), // Fourth button input
        .q(Q[3])                   // Store bit 3 of the temperature value
    );

    d_ff_reset DFF4 (
        .clk(clk),
        .reset(reset),
        .d(debounced_buttons[4]), // Fifth button input
        .q(Q[4])                   // Store bit 4 of the temperature value
    );

    d_ff_reset DFF5 (
        .clk(clk),
        .reset(reset),
        .d(debounced_buttons[0]), // Reuse button input if necessary
        .q(Q[5])                   // Store bit 5 of the temperature value
    );

    d_ff_reset DFF6 (
        .clk(clk),
        .reset(reset),
        .d(debounced_buttons[1]), // Reuse button input if necessary
        .q(Q[6])                   // Store bit 6 of the temperature value
    );

    d_ff_reset DFF7 (
        .clk(clk),
        .reset(reset),
        .d(debounced_buttons[2]), // Reuse button input if necessary
        .q(Q[7])                   // Store bit 7 of the temperature value
    );

    // Instantiate the 7-segment display controller
    seven_segment_controller seg (
        .clk(clk),
        .reset(reset),
        .temp(Q),           // Pass the 8-bit temperature value to the seven-segment controller
        .anode_select(anode_sel),  // 7-segment anode selection
        .LED_out(led_out)        // 7-segment LED output
    );

endmodule
